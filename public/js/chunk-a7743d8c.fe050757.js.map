{"version":3,"sources":["webpack:///./src/views/artistDetail/artistDetail.vue?6022","webpack:///./src/components/content/artist/detail.vue?6ae0","webpack:///src/components/content/artist/detail.vue","webpack:///./src/components/content/artist/detail.vue?9354","webpack:///./src/components/content/artist/detail.vue","webpack:///src/views/artistDetail/artistDetail.vue","webpack:///./src/views/artistDetail/artistDetail.vue?724a","webpack:///./src/views/artistDetail/artistDetail.vue","webpack:///./src/request/artist.js","webpack:///./src/components/content/artist/detail.vue?d0b6"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","directives","name","rawName","value","artistInfo","artist","expression","_v","_s","musicSize","albumSize","mvSize","class","active","isActive","sub","nativeOn","$event","followed","apply","arguments","linkUser","_e","uid","data","artistDesc","userid","computed","$route","query","id","watch","artistDetail","components","btn","methods","$router","push","path","mounted","component","topbar","install","url","method","params","artistList","limit","offset","initial","type","area","artistSub","t","artistTop","artistSongs","order","artistMv","artistAlbum","simiArtist"],"mappings":"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","file":"js/chunk-a7743d8c.fe050757.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"artistDetail\"}},[_c('topbar'),_c('artistDetail')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"artistDetail\"},[(_vm.artistInfo)?_c('div',{staticClass:\"artistInfo\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.artistInfo.artist.cover),expression:\"artistInfo.artist.cover\"}],attrs:{\"alt\":\"\"}}),_c('div',[_c('h1',[_vm._v(_vm._s(_vm.artistInfo.artist.name))]),_c('p',[_c('span',[_vm._v(\"单曲数：\"+_vm._s(_vm.artistInfo.artist.musicSize))]),_c('span',[_vm._v(\"专辑数：\"+_vm._s(_vm.artistInfo.artist.albumSize))]),_c('span',[_vm._v(\"MV数：\"+_vm._s(_vm.artistInfo.artist.mvSize))])]),_c('btn',{class:{ active: _vm.isActive },attrs:{\"icon\":\"el-icon-plus\",\"text\":_vm.sub()},nativeOn:{\"click\":function($event){return _vm.followed.apply(null, arguments)}}}),_c('btn',{attrs:{\"icon\":\"el-icon-user\",\"text\":\"个人主页\"},nativeOn:{\"click\":function($event){return _vm.linkUser.apply(null, arguments)}}})],1)]):_vm._e(),(_vm.artistInfo)?_c('nav',[_c('router-link',{attrs:{\"active-class\":\"activeNav\",\"to\":'album?id=' + _vm.uid}},[_vm._v(\" 专辑 \")]),_c('router-link',{attrs:{\"active-class\":\"activeNav\",\"to\":'mv?id=' + _vm.uid}},[_vm._v(\" MV \")]),_c('router-link',{attrs:{\"active-class\":\"activeNav\",\"to\":'info?id=' + _vm.uid + '&name=' + _vm.artistInfo.artist.name}},[_vm._v(\" 歌手信息 \")]),_c('router-link',{attrs:{\"active-class\":\"activeNav\",\"to\":'similarity?id=' + _vm.uid}},[_vm._v(\" 相似歌手 \")])],1):_vm._e(),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"artistDetail\">\r\n    <div class=\"artistInfo\" v-if=\"artistInfo\">\r\n      <img v-lazy=\"artistInfo.artist.cover\" alt=\"\" />\r\n      <div>\r\n        <h1>{{ artistInfo.artist.name }}</h1>\r\n        <p>\r\n          <span>单曲数：{{ artistInfo.artist.musicSize }}</span>\r\n          <span>专辑数：{{ artistInfo.artist.albumSize }}</span>\r\n          <span>MV数：{{ artistInfo.artist.mvSize }}</span>\r\n        </p>\r\n        <btn\r\n          icon=\"el-icon-plus\"\r\n          :class=\"{ active: isActive }\"\r\n          :text=\"sub()\"\r\n          @click.native=\"followed\"\r\n        />\r\n        <btn icon=\"el-icon-user\" text=\"个人主页\" @click.native=\"linkUser\" />\r\n      </div>\r\n    </div>\r\n    <nav v-if=\"artistInfo\">\r\n      <router-link active-class=\"activeNav\" :to=\"'album?id=' + uid\">\r\n        专辑\r\n      </router-link>\r\n      <router-link active-class=\"activeNav\" :to=\"'mv?id=' + uid\">\r\n        MV\r\n      </router-link>\r\n      <router-link\r\n        active-class=\"activeNav\"\r\n        :to=\"'info?id=' + uid + '&name=' + artistInfo.artist.name\"\r\n      >\r\n        歌手信息\r\n      </router-link>\r\n      <router-link active-class=\"activeNav\" :to=\"'similarity?id=' + uid\">\r\n        相似歌手\r\n      </router-link>\r\n    </nav>\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport btn from \"btn/btn.vue\";\r\nimport { artistDetail, artistSub } from \"@/request/artist\";\r\nexport default {\r\n  name: \"artistDetail\",\r\n  data() {\r\n    return {\r\n      artistInfo: null,\r\n      artistDesc: null,\r\n      isActive: false,\r\n      userid: null,\r\n    };\r\n  },\r\n  computed: {\r\n    uid() {\r\n      return this.$route.query.id;\r\n    },\r\n  },\r\n  watch: {\r\n    uid() {\r\n      this.artistDetail();\r\n    },\r\n  },\r\n  components: {\r\n    btn,\r\n  },\r\n  methods: {\r\n    artistDetail() {\r\n      artistDetail(this.uid)\r\n        .then((res) => {\r\n          this.artistInfo = res.data;\r\n          if (res.data.user) {\r\n            this.userid = res.data.user.userId;\r\n            this.isActive = res.data.user.followed;\r\n            this.$store.commit(\"artistUid\", this.userid);\r\n          }\r\n        })\r\n        .catch();\r\n    },\r\n\r\n    //数据相关\r\n    sub() {\r\n      if (this.artistInfo) {\r\n        if (this.isActive) {\r\n          return \"已关注\";\r\n        } else {\r\n          return \"关注\";\r\n        }\r\n      }\r\n    },\r\n\r\n    //事件相关\r\n    followed() {\r\n      let t = 0;\r\n      this.isActive ? (t = 0) : (t = 1);\r\n      artistSub(this.uid, t)\r\n        .then(() => {\r\n          this.isActive = !this.isActive;\r\n        })\r\n        .catch();\r\n    },\r\n    linkUser() {\r\n      this.$router.push({\r\n        path: \"/user/home\",\r\n        query: { id: this.userid },\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.artistDetail();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.artistDetail {\r\n  padding: 50px 10%;\r\n  display: flex;\r\n\r\n  flex-flow: column;\r\n  .artistInfo {\r\n    display: flex;\r\n    align-items: center;\r\n    img {\r\n      width: 250px;\r\n      height: 250px;\r\n      border-radius: 100%;\r\n    }\r\n    > div {\r\n      margin-left: 50px;\r\n      > p {\r\n        margin: 20px 0;\r\n        span {\r\n          margin-right: 20px;\r\n        }\r\n      }\r\n      .btn {\r\n        margin-right: 20px;\r\n      }\r\n    }\r\n  }\r\n  nav {\r\n    display: flex;\r\n    margin: 30px 0;\r\n    border-bottom: 1px solid white;\r\n    a {\r\n      margin-right: 20px;\r\n      line-height: 50px;\r\n    }\r\n  }\r\n}\r\n.active {\r\n  color: white;\r\n  background-color: rgba(255, 0, 0);\r\n  &:hover {\r\n    background-color: rgba(255, 0, 0);\r\n  }\r\n  &:active {\r\n    background-color: rgba(255, 0, 0, 0.6);\r\n  }\r\n}\r\n.activeNav {\r\n  border-bottom: 2px solid red;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=ccff44da&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=ccff44da&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ccff44da\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"artistDetail\">\r\n    <topbar></topbar>\r\n    <artistDetail />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport topbar from \"@/components/common/topbar.vue\";\r\nimport artistDetail from \"@/components/content/artist/detail.vue\";\r\nexport default {\r\n  name: \"artist\",\r\n  components: {\r\n    topbar,\r\n    artistDetail,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./artistDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./artistDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./artistDetail.vue?vue&type=template&id=54da4682&scoped=true&\"\nimport script from \"./artistDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./artistDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54da4682\",\n  null\n  \n)\n\nexport default component.exports","import { install } from \"@/plugins/axios\";\r\n//获取歌手详情\r\nexport function artistDetail(id) {\r\n  return install({\r\n    url: \"artist/detail\",\r\n    method: \"post\",\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n}\r\n//获取歌手描述\r\nexport function artistDesc(id) {\r\n  return install({\r\n    url: \"/artist/desc\",\r\n    method: \"post\",\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n}\r\n//获取歌手列表\r\nexport function artistList(limit, offset, initial, type, area) {\r\n  return install({\r\n    url: \"/artist/list\",\r\n    method: \"post\",\r\n    params: {\r\n      limit,\r\n      offset,\r\n      initial,\r\n      type,\r\n      area,\r\n    },\r\n  });\r\n}\r\n//取消/关注歌手\r\nexport function artistSub(id, t) {\r\n  return install({\r\n    url: \"/artist/sub\",\r\n    method: \"post\",\r\n    params: {\r\n      id,\r\n      t,\r\n    },\r\n  });\r\n}\r\n//歌手热门50首\r\nexport function artistTop(id) {\r\n  return install({\r\n    url: \"/artist/top/song\",\r\n    method: \"post\",\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n}\r\n//歌手全部歌\r\nexport function artistSongs(id, order, limit, offset) {\r\n  return install({\r\n    url: \"/artist/songs\",\r\n    method: \"post\",\r\n    params: {\r\n      limit,\r\n      offset,\r\n      id,\r\n      order,\r\n    },\r\n  });\r\n}\r\n//歌手MV\r\nexport function artistMv(id) {\r\n  return install({\r\n    url: \"/artist/mv\",\r\n    method: \"post\",\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n}\r\n//歌手专辑\r\nexport function artistAlbum(id, limit, offset) {\r\n  return install({\r\n    url: \"/artist/album\",\r\n    method: \"post\",\r\n    params: {\r\n      id,\r\n      limit,\r\n      offset,\r\n    },\r\n  });\r\n}\r\n//相似歌手\r\nexport function simiArtist(id) {\r\n  return install({\r\n    url: \"/simi/artist\",\r\n    method: \"post\",\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n}\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&id=ccff44da&lang=less&scoped=true&\""],"sourceRoot":""}